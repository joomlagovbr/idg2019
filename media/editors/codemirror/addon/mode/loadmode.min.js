!(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),"cjs"):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],(function(b){a(b,"amd")})):a(CodeMirror,"plain")})((function(a,b){function c(a,b){var c=b;return function(){0==--c&&a()}}function d(b,d,e){var f=a.modes[b],g=f&&f.dependencies;if(!g)return d();for(var h=[],i=0;i<g.length;++i)a.modes.hasOwnProperty(g[i])||h.push(g[i]);if(!h.length)return d();for(var j=c(d,h.length),i=0;i<h.length;++i)a.requireMode(h[i],j,e)}a.modeURL||(a.modeURL="../mode/%N/%N.js");var e={};a.requireMode=function(c,f,g){if("string"!=typeof c&&(c=c.name),a.modes.hasOwnProperty(c))return d(c,f,g);if(e.hasOwnProperty(c))return e[c].push(f);var h=g&&g.path?g.path(c):a.modeURL.replace(/%N/g,c);if(g&&g.loadMode)g.loadMode(h,(function(){d(c,f,g)}));else if("plain"==b){var i=document.createElement("script");i.src=h;var j=document.getElementsByTagName("script")[0],k=e[c]=[f];a.on(i,"load",(function(){d(c,(function(){for(var a=0;a<k.length;++a)k[a]()}),g)})),j.parentNode.insertBefore(i,j)}else"cjs"==b?(require(h),f()):"amd"==b&&requirejs([h],f)},a.autoLoadMode=function(b,c,d){a.modes.hasOwnProperty(c)||a.requireMode(c,(function(){b.setOption("mode",b.getOption("mode"))}),d)}}));